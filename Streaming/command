
docker compose up -d 
# must run this command to create topic in kafka container 
docker exec -it kafka kafka-topics.sh --create --topic my-topic --bootstrap-server localhost:9092 --partitions 1 --replication-factor 1
docker exec -it kafka kafka-console-producer.sh --topic my-topic --bootstrap-server localhost:9092


# spark master container 


spark-submit \
  --master spark://spark-master:7077 \
  --deploy-mode client \
  --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.5.1 \
  --jars /opt/bitnami/spark/jars/postgresql.jar \
  /opt/bitnami/spark/jobs/main.py






# connect to posgre db
docker exec -it postgres-db psql -U user -d mydatabase
\c mydatabase # connect to mydatabase